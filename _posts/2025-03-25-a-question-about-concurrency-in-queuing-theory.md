---
title: 排队论中关于并发数的一点小疑惑
date: 2025-03-25 09:55:01 +0800
categories: [queueing-theory]
tags: [queueing-theory, performance]
---

## 一个容易理解的例子
比如系统qps为 10000，处理延迟为2ms。 那么 并发数为20。 这个并发数表示系统同时有20个请求在处理中，也表示（从客户端而言），客户端同时总有20个请求发给服务端处理。  这个很容易理解。

## 一个有疑惑的例子

![alt text](/assets/lib/62cdb8e9526a2b7e89dce43b9c6f8dc.png)

对于服务端而言，并发数为20000人，这个确实也容易理解。 但从客户端（高中毕业）而言呢？ 同时总共有多少个请求发给服务端（大学）呢？ 是5000？ 还是20000？ 按照前面的例子，答案应该是20000。但明明是每年5000个人进学校呢。 其中差别在哪？

## 解除疑惑

客户端同时总共有20000个请求输出到学校 （但必须是大学成立四年之后哈）。 我之所以疑惑，是因为，大学成立的前四年，总人数是没有20000的。 人是陆陆续续进入学校的！

而这个例子，我并没有考虑和探讨一开始是陆陆续续进去学校的。

## 总结

1. 并发数是服务系统正在处理的请求的数量，它与时间没任何关系！
2. 通常而言，系统QPS趋于稳定的时候，服务系统的并发数是等于客户端同时发起过的请求数。它也与时间没任何关系！